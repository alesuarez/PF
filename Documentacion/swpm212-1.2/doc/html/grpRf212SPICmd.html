<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SWPM AT86RF212: SPI Command Mode</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="main.html">AT86RF212 Programming</a>&nbsp;&raquo&nbsp;<a class="el" href="pgSwpmAT86RF212.html">Software Programming Model</a>&nbsp;&raquo&nbsp;<a class="el" href="grpCfg.html">Radio Transceiver Configuration</a>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="grpRf212SPICmd">SPI Command Mode </a></h1>The SPI interface of the radio transceiver can return status information on the <a class="el" href="grpIntroMCU.html#wireSPI">MISO pin</a> in the first byte of each of the <a class="el" href="grpIntroTransceiverAccess.html">transceiver access primitives</a>. This section describes, how the information in this status byte is configured.<p>
For more information about the MISO access and the status information refer to section <a class="el" href="grpIntroTransceiverAccess.html">Transceiver Access Primitives</a> and <a class="el" href="pgRef.html#refDataSheet">section 4.3</a> <em>(SPI Protocol)</em> of the AT86RF212 datasheet.<p>
<b>Use Cases:</b><ul>
<li><a class="el" href="grpRf212SPICmd.html#secset_spi_cmd_mode">SET_SPI_CMD_MODE</a></li><li><a class="el" href="grpRf212SPICmd.html#secget_spi_cmd_mode">GET_SPI_CMD_MODE</a></li></ul>
<p>
<hr>
<h2><a class="anchor" name="secset_spi_cmd_mode">
SET_SPI_CMD_MODE</a></h2>
The content of the radio transceiver status information can be configured using <a class="el" href="group__apiHalPHY212Sreg.html#g7f89d25ba5ed4457a58b3b0bd6f1b53c">SR_SPI_CMD_MODE</a>. After reset, the content of the first byte sent on MISO to the microcontroller is set to 0x00.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spicmdmode</em>&nbsp;</td><td>This parameter configures the status information in sub register <a class="el" href="group__apiHalPHY212Sreg.html#g7f89d25ba5ed4457a58b3b0bd6f1b53c">SR_SPI_CMD_MODE</a> to return the following status information during an SPI access:<ul>
<li>{0} : default (empty, all bits 0x00)</li><li>{1} : monitor <a class="el" href="group__apiHalPHY212Reg.html#g3ef224e06f9b07c132b98daeb089f9ae">RG_TRX_STATUS</a> register (see section <a class="el" href="grpState.html">State Changes</a>)</li><li>{2} : monitor <a class="el" href="group__apiHalPHY212Reg.html#gd1d60be2e5a79f872e2da65ff35dd90a">RG_PHY_RSSI</a> register (see section <a class="el" href="grpPhyRSSIED.html">RSSI and ED Measurement</a>)</li><li>{3} : monitor <a class="el" href="group__apiHalPHY212Reg.html#g7dec4b1e3d3bfd3e9f6c243abc4f008e">RG_IRQ_STATUS</a> register (see section <a class="el" href="grpHandleIrq.html">Interrupts</a>)</li></ul>
</td></tr>
  </table>
</dl>
<div align="center">
<img src="inline_mscgraph_31.png" alt="inline_mscgraph_31" border="0" usemap="#inline_mscgraph_31.map">
<map name="inline_mscgraph_31.map"><area href="grpIntroStates.html#stTrxActive" shape="rect" coords="427,26,473,39" alt="">
</map>
</div>
 <dl class="user" compact><dt><b>Code example</b></dt><dd><div class="fragment"><pre class="fragment">    <span class="comment">/* AT86RF212::[ACTIVE] */</span>
    <a class="code" href="group__apiHalFuncBasic.html#g4a22a30602ea72effde4450ce80a6480" title="Write a value to a subregister.">trx_bit_write</a>(<a class="code" href="group__apiHalPHY212Sreg.html#g7f89d25ba5ed4457a58b3b0bd6f1b53c">SR_SPI_CMD_MODE</a>, spicmdmode);
</pre></div></dd></dl>
<h2><a class="anchor" name="secget_spi_cmd_mode">
GET_SPI_CMD_MODE</a></h2>
<div align="center">
<img src="inline_mscgraph_32.png" alt="inline_mscgraph_32" border="0" usemap="#inline_mscgraph_32.map">
<map name="inline_mscgraph_32.map"><area href="grpIntroStates.html#stTrxActive" shape="rect" coords="427,26,473,39" alt="">
</map>
</div>
 <dl class="user" compact><dt><b>Code example</b></dt><dd><div class="fragment"><pre class="fragment">    <span class="comment">/* AT86RF212::[ACTIVE] */</span>
    spicmdmode = <a class="code" href="group__apiHalFuncBasic.html#ge7ea3d090b5d26b73a5c62e2e61e0231" title="Read a value from a subregister.">trx_bit_read</a>(<a class="code" href="group__apiHalPHY212Sreg.html#g7f89d25ba5ed4457a58b3b0bd6f1b53c">SR_SPI_CMD_MODE</a>);
</pre></div> </dd></dl>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Aug 17 13:34:59 2009 for SWPM AT86RF212 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
