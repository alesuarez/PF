<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SWPM AT86RF212: High Data Rate Modes</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="main.html">AT86RF212 Programming</a>&nbsp;&raquo&nbsp;<a class="el" href="pgSwpmAT86RF212.html">Software Programming Model</a>&nbsp;&raquo&nbsp;<a class="el" href="grpMisc.html">Extended Features</a>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="grpHRate">High Data Rate Modes </a></h1>The radio transceiver supports data rates of {200,400,500,1000} kbit/s for O-QPSK modulation, which are not compliant to the IEEE 802.15.4 standard. Using any of the high data rates reduce the utilization time of the air interface at the expense of a decreased receiver sensitivity.<p>
A high data rate is applied to the PSDU part of the frame, while SHR and PHR are sent with the corresponding standard data rate. The data rate has to be explicitely configured in the transceiver, because there is no auto detection of the data rate during frame reception. For more details refer to <a class="el" href="pgRef.html#refDataSheet">section 7.1.4</a> <em>(Proprietary High Data Rate Modes)</em> of the AT86RF212 datasheet.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dmode</em>&nbsp;</td><td>select the data rate sub mode; {0} for 100/200/400 kbit/s and {1} for 250/500/1000 kbit/s. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>drate</em>&nbsp;</td><td>select data rate; {0} for 100/250 kbit/s (IEEE 802.15.4 compliant), {1} for 200/500 kbit/s (proprietary), and {2} for 400/1000 kbit/s (proprietary). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>scramen</em>&nbsp;</td><td>enable {1}/disable {0} scrambling of the PSDU. The additional scrambling improves the spectral properties of the transmit signal for the data rates {400,1000} kbit/s. After reset, the scrambler is disabled.</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>In <a class="el" href="pgRef.html#refDataSheet">section 7.1.4.3</a> <em>(High Date Rate Mode Options)</em> of the AT86RF212 datasheet, the different sense of parameters like RSSI, LQI, and ED is described.</dd></dl>
For configuration of the data rate refer to section <a class="el" href="grpSetPhyMode.html">Physical Layer Mode</a> and <a class="el" href="pgRef.html#refDataSheet">section 7.1</a> <em>(Physical Layer Modes)</em> of the AT86RF212 datasheet.<p>
<b>Use Cases:</b><ul>
<li><a class="el" href="grpHRate.html#secset_hrm_mode">SET_HRM_MODE</a></li><li><a class="el" href="grpHRate.html#secget_hrm_mode">GET_HRM_MODE</a></li></ul>
<p>
<hr>
<h2><a class="anchor" name="secset_hrm_mode">
SET_HRM_MODE</a></h2>
The PSDU data rate can be configured with the following use case:<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Alternatively, the entire register <a class="el" href="group__apiHalPHY212Reg.html#g81791c12a60718398f0747eb2e9625d8">RG_TRX_CTRL_2</a> can be encoded and written, in order to configure the current data rate.</dd></dl>
<div align="center">
<img src="inline_mscgraph_98.png" alt="inline_mscgraph_98" border="0" usemap="#inline_mscgraph_98.map">
<map name="inline_mscgraph_98.map"><area href="grpIntroStates.html#stTrxOff" shape="rect" coords="430,26,470,39" alt="">
</map>
</div>
 <dl class="user" compact><dt><b>Code example</b></dt><dd><div class="fragment"><pre class="fragment">    <span class="comment">/* AT86RF212::TRX_OFF */</span>
    <a class="code" href="group__apiHalFuncBasic.html#g4a22a30602ea72effde4450ce80a6480" title="Write a value to a subregister.">trx_bit_write</a>(<a class="code" href="group__apiHalPHY212Sreg.html#gfea05e8ee180669eddbcff4f4697ccdc">SR_BPSK_OQPSK</a>, 1);
    <a class="code" href="group__apiHalFuncBasic.html#g4a22a30602ea72effde4450ce80a6480" title="Write a value to a subregister.">trx_bit_write</a>(<a class="code" href="group__apiHalPHY212Sreg.html#gb5a877701d2e8f032a2fe02a8781c1bb">SR_SUB_MODE</a>, dmode);
    <a class="code" href="group__apiHalFuncBasic.html#g4a22a30602ea72effde4450ce80a6480" title="Write a value to a subregister.">trx_bit_write</a>(<a class="code" href="group__apiHalPHY212Sreg.html#gbfeb28eda159177c144821fd6fef7bb0">SR_OQPSK_DATA_RATE</a>, drate);
    <a class="code" href="group__apiHalFuncBasic.html#g4a22a30602ea72effde4450ce80a6480" title="Write a value to a subregister.">trx_bit_write</a>(<a class="code" href="group__apiHalPHY212Sreg.html#g3f5943f483ff040543c707263fc7c4d3">SR_OQPSK_SCRAM_EN</a>, scramen);
</pre></div></dd></dl>
<h2><a class="anchor" name="secget_hrm_mode">
GET_HRM_MODE</a></h2>
The PSDU data rate can be read with the following use case.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Alternatively, the entire register <a class="el" href="group__apiHalPHY212Reg.html#g81791c12a60718398f0747eb2e9625d8">RG_TRX_CTRL_2</a> can be read and decoded, in order to determine the current data rate.</dd></dl>
<div align="center">
<img src="inline_mscgraph_99.png" alt="inline_mscgraph_99" border="0" usemap="#inline_mscgraph_99.map">
<map name="inline_mscgraph_99.map"><area href="grpIntroStates.html#stTrxOff" shape="rect" coords="430,26,470,39" alt="">
</map>
</div>
 <dl class="user" compact><dt><b>Code example</b></dt><dd><div class="fragment"><pre class="fragment">    <span class="comment">/* AT86RF212::TRX_OFF */</span>
    oqpsk = <a class="code" href="group__apiHalFuncBasic.html#ge7ea3d090b5d26b73a5c62e2e61e0231" title="Read a value from a subregister.">trx_bit_read</a>(<a class="code" href="group__apiHalPHY212Sreg.html#gfea05e8ee180669eddbcff4f4697ccdc">SR_BPSK_OQPSK</a>);
    dmode = <a class="code" href="group__apiHalFuncBasic.html#ge7ea3d090b5d26b73a5c62e2e61e0231" title="Read a value from a subregister.">trx_bit_read</a>(<a class="code" href="group__apiHalPHY212Sreg.html#gb5a877701d2e8f032a2fe02a8781c1bb">SR_SUB_MODE</a>);
    drate = <a class="code" href="group__apiHalFuncBasic.html#ge7ea3d090b5d26b73a5c62e2e61e0231" title="Read a value from a subregister.">trx_bit_read</a>(<a class="code" href="group__apiHalPHY212Sreg.html#gbfeb28eda159177c144821fd6fef7bb0">SR_OQPSK_DATA_RATE</a>);
    scramen = <a class="code" href="group__apiHalFuncBasic.html#ge7ea3d090b5d26b73a5c62e2e61e0231" title="Read a value from a subregister.">trx_bit_read</a>(<a class="code" href="group__apiHalPHY212Sreg.html#g3f5943f483ff040543c707263fc7c4d3">SR_OQPSK_SCRAM_EN</a>);
</pre></div> </dd></dl>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Aug 17 13:35:01 2009 for SWPM AT86RF212 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
