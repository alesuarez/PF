<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SWPM AT86RF212: CWPAN Operation Mode</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="main.html">AT86RF212 Programming</a>&nbsp;&raquo&nbsp;<a class="el" href="pgSwpmAT86RF212.html">Software Programming Model</a>&nbsp;&raquo&nbsp;<a class="el" href="grpCfg.html">Radio Transceiver Configuration</a>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="grpRf212CWPAN">CWPAN Operation Mode </a></h1>The radio transceiver can be operated in the chinese 780 MHz band, defined in <a class="el" href="pgRef.html#refeightohtwo154c">IEEE 802.15.4c-2009</a>. The configuration parameters for compliant operation in this mode is described in the following sections.<p>
<table border="0" cellspacing="3" cellpadding="3">
<tr>
<td colspan="2"><dl class="user" compact><dt><b>Configure Modulation OQPSK-RC-250</b></dt><dd></dd></dl>
See also section <a class="el" href="grpSetPhyMode.html">Physical Layer Mode</a>. <p>
</td></tr>
<tr>
<td><code> useoqpsk = 1,<br>
 rcen = 1<br>
 <em>or</em> phymode = 0x3c<br>
 </code>  </td><td>Using OQPSK-250 modulation with raised cosine filtering with roll-off factor 0.8 (RC-0.8) for pulse shaping and scrambler enabled. These values can be combined with the reset value of register <a class="el" href="group__apiHalPHY212Reg.html#g81791c12a60718398f0747eb2e9625d8">RG_TRX_CTRL_2</a> into the variable <code>phymode = 0x3c</code>.  <p>
</td></tr>
<tr>
<td><code> gctxoffset = 2 </code> </td><td>Offset value for the TX output power. For more details refer to <a class="el" href="pgRef.html#refDataSheet">table 7-16</a> <em>(Mode-dependent setting of GC_TX_OFFS)</em> in the AT86RF212 datasheet.  <p>
</td></tr>
<tr>
<td colspan="2"><dl class="user" compact><dt><b>Configure Transmit Power Level</b></dt><dd></dd></dl>
See section <a class="el" href="grpSetPwr.html">Transmit Power Setting</a>.  </td></tr>
<tr>
<td><code> txpower = {indexvalue} </code> </td><td>The value for the register <a class="el" href="group__apiHalPHY212Reg.html#g102bbda4e4354e6c5d42d73a8202476d">RG_PHY_TX_PWR</a> retrieved from <a class="el" href="pgRef.html#refDataSheet">table 7-15</a> <em>(Recommended Mapping of TX Power, Frequency Band, and PHY_TX_PWR)</em> in the AT86RF212 datasheet. <p>
</td></tr>
<tr>
<td colspan="2"><dl class="user" compact><dt><b>Configure Center Frequency</b></dt><dd></dd></dl>
See section <a class="el" href="grpSetChanFreq.html">RF Channel Selection</a>. <p>
</td></tr>
<tr>
<td><code>ccband = 1 </code> </td><td>The RF channel band 1 allows to adjust the center frequencies from 769.0 up to 794.5 MHz according to <img class="formulaInl" alt="$ Fc = 769.0 + 0.1 * ccnumber [MHz] $" src="form_0.png">.   </td></tr>
<tr>
<td><code>ccnumber = {110,130,150,170} </code> </td><td>Configuration of center frequencies for CWPAN channels defined on IEEE channel page 5. <table border="1" cellspacing="3" cellpadding="3">
<tr>
<th>ccnumber</th><th>channel</th><th>frequency [MHz]  </th></tr>
<tr>
<td>110 </td><td>0</td><td>780  </td></tr>
<tr>
<td>130 </td><td>1</td><td>782  </td></tr>
<tr>
<td>150 </td><td>2</td><td>784  </td></tr>
<tr>
<td>170 </td><td>3</td><td>786  </td></tr>
</table>
</td></tr>
</table>
<p>
<b>Use Cases:</b><ul>
<li><a class="el" href="grpRf212CWPAN.html#seccfg_cwpan">CFG_CWPAN</a> <hr>
</li></ul>
<h2><a class="anchor" name="seccfg_cwpan">
CFG_CWPAN</a></h2>
<dl class="note" compact><dt><b>Note:</b></dt><dd><ol type=1>
<li>For configuration of the Physical Layer Mode for OQPSK-250-RC0.8 the radio transceiver needs to be in state <a class="el" href="grpIntroStates.html#stTrxOff">TRX_OFF</a> according to section <a class="el" href="grpSetPhyMode.html">Physical Layer Mode</a>.</li><li>The channel parameters can be adjusted in all states listed in section <a class="el" href="grpSetChanFreq.html">RF Channel Selection</a>.</li><li>The configuration of the transmit power can be written in all states listed in section <a class="el" href="grpSetPwr.html">Transmit Power Setting</a>.</li></ol>
</dd></dl>
<div align="center">
<img src="inline_mscgraph_33.png" alt="inline_mscgraph_33" border="0" usemap="#inline_mscgraph_33.map">
<map name="inline_mscgraph_33.map"><area href="grpIntroStates.html#stTrxOff" shape="rect" coords="430,26,470,39" alt="">
</map>
</div>
 <dl class="user" compact><dt><b>Code example</b></dt><dd><div class="fragment"><pre class="fragment">    <span class="comment">/* AT86RF212::TRX_OFF */</span>
    pm = <a class="code" href="group__apiHalFuncBasic.html#gd31a9a2f63e52d485d975d59f7c1d5f4" title="Read the value from a register.">trx_reg_read</a>(<a class="code" href="group__apiHalPHY212Reg.html#g81791c12a60718398f0747eb2e9625d8">RG_TRX_CTRL_2</a>);
    pm = pm &amp; 0xc0;
    pm = pm | phymode;
    <a class="code" href="group__apiHalFuncBasic.html#g63cd512542173c0a69f2ead0890defed" title="Write a value to a register.">trx_reg_write</a>(<a class="code" href="group__apiHalPHY212Reg.html#g81791c12a60718398f0747eb2e9625d8">RG_TRX_CTRL_2</a>, pm);
    <a class="code" href="group__apiHalFuncBasic.html#g4a22a30602ea72effde4450ce80a6480" title="Write a value to a subregister.">trx_bit_write</a>(<a class="code" href="group__apiHalPHY212Sreg.html#geb31431d7da7cdc4ce2362cc4fe18ba5">SR_GC_TX_OFFS</a>, gctxoffset);
    <a class="code" href="group__apiHalFuncBasic.html#g63cd512542173c0a69f2ead0890defed" title="Write a value to a register.">trx_reg_write</a>(<a class="code" href="group__apiHalPHY212Reg.html#g102bbda4e4354e6c5d42d73a8202476d">RG_PHY_TX_PWR</a>, txpower);
    <a class="code" href="group__apiHalFuncBasic.html#g4a22a30602ea72effde4450ce80a6480" title="Write a value to a subregister.">trx_bit_write</a>(<a class="code" href="group__apiHalPHY212Sreg.html#gb220c6ee123c7e8c4df8339ef27ae36c">SR_CC_BAND</a>, ccband);
    <a class="code" href="group__apiHalFuncBasic.html#g4a22a30602ea72effde4450ce80a6480" title="Write a value to a subregister.">trx_bit_write</a>(<a class="code" href="group__apiHalPHY212Sreg.html#g8848b8dba6f06565650e580c0d29bab9">SR_CC_NUMBER</a>, ccnumber);
</pre></div> </dd></dl>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Aug 17 13:34:59 2009 for SWPM AT86RF212 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
