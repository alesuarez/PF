<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SWPM AT86RF212: Grouping Radio Transceiver States</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="main.html">AT86RF212 Programming</a>&nbsp;&raquo&nbsp;<a class="el" href="pgSwpmAT86RF212.html">Software Programming Model</a>&nbsp;&raquo&nbsp;<a class="el" href="grpIntro.html">Introduction</a>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="grpIntroStates">Grouping Radio Transceiver States </a></h1>The state of the radio transceiver can be determined by <a class="el" href="group__apiHalFuncBasic.html#ge7ea3d090b5d26b73a5c62e2e61e0231">reading</a> the sub register <a class="el" href="group__apiHalPHY212Sreg.html#gbb9dcc6f85b1154d76645b5de64d4835">SR_TRX_STATUS</a>.<p>
The states of the radio transceiver can be divided into <a class="el" href="grpIntroStates.html#subsecStaticStates">static</a> and <a class="el" href="grpIntroStates.html#subsecTransientStates">transient</a> states. Some Radio Transceiver States can be combined into <a class="el" href="grpIntroStates.html#secStateGroups">state groups</a>, which simplifies some of the <a class="el" href="grpIntroMSC.html">Message Sequence Charts</a> MSCs.<h2><a class="anchor" name="secRTS">
Radio Transceiver States</a></h2>
<h3><a class="anchor" name="subsecStaticStates">
Static Radio Transceiver States</a></h3>
The radio remains in a static state as long as no external event occurs. External events include:<ul>
<li>a state change initiated by the MCU by writing <a class="el" href="group__apiHalPHY212Sreg.html#g8d912618842812f37fc46356eff73c93">SR_TRX_CMD</a> or by toggeling pin <a class="el" href="grpIntroMCU.html#wirePinSleepTr">TRX_PIN_SLP_TR</a></li><li>an incoming frame.</li></ul>
<p>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<th><b>State</b>  </th><th><b>Comment</b>  </th></tr>
<tr>
<td><a class="anchor" name="stSleep"></a> <a class="el" href="group__apiHalPHY212Const.html#g44e89d523436fcbbf2c56e4fb335d509">SLEEP</a> </td><td>see section <a class="el" href="grpStateSleep.html">Transitions to/from State SLEEP</a>  </td></tr>
<tr>
<td><a class="anchor" name="stTrxOff"></a> <a class="el" href="group__apiHalPHY212Const.html#gd9aff3d987888b9d1bcb9fc12d2c996e">TRX_OFF</a> </td><td>see section <a class="el" href="grpStateTrxOff.html">Transitions to State TRX_OFF</a>  </td></tr>
<tr>
<td><a class="anchor" name="stPllOn"></a> <a class="el" href="group__apiHalPHY212Const.html#g77a32ac338596fe95ea09d7603d7c295">PLL_ON</a> </td><td>see section <a class="el" href="grpStateTxOn.html">Transitions to State PLL_ON</a>  </td></tr>
<tr>
<td><a class="anchor" name="stRxOn"></a> <a class="el" href="group__apiHalPHY212Const.html#g359db88bcffa6b39bdb64ec00ec3a1ae">RX_ON</a> </td><td>see section <a class="el" href="grpStateRxOn.html">Transitions to State RX_ON</a>  </td></tr>
<tr>
<td><a class="anchor" name="stRxOnNoClk"></a> <a class="el" href="group__apiHalPHY212Const.html#gebdc5763dfca01b36ecf6cbeb641f4b3">RX_ON_NOCLK</a> </td><td>see section <a class="el" href="grpStateRxOn.html">Transitions to State RX_ON</a> while the pin <a class="el" href="grpIntroMCU.html#wirePinSleepTr">TRX_PIN_SLP_TR</a> is HIGH.  </td></tr>
<tr>
<td><a class="anchor" name="stRxAackOn"></a> <a class="el" href="group__apiHalPHY212Const.html#gfddeaef97c7252f303f60355d79bf04c">RX_AACK_ON</a> </td><td>see section <a class="el" href="grpStateRxAackOn.html">Transitions to State RX_AACK_ON</a>  </td></tr>
<tr>
<td><a class="anchor" name="stRxAackOnNoClk"></a> <a class="el" href="group__apiHalPHY212Const.html#g2457f98235fe05be63025fe6d060709d">RX_AACK_ON_NOCLK</a> </td><td>see section <a class="el" href="grpStateRxAackOn.html">Transitions to State RX_AACK_ON</a> while the pin <a class="el" href="grpIntroMCU.html#wirePinSleepTr">TRX_PIN_SLP_TR</a> is HIGH  </td></tr>
<tr>
<td><a class="anchor" name="stTxAretOn"></a> <a class="el" href="group__apiHalPHY212Const.html#g0d659f730692556a1b5e68f54c8ae015">TX_ARET_ON</a> </td><td>see section <a class="el" href="grpStateTxAretOn.html">Transitions to State TX_ARET_ON</a>  </td></tr>
</table>
<h3><a class="anchor" name="subsecTransientStates">
Transient Radio Transceiver States</a></h3>
The radio remains in transient states only temporarily. They are entered during radio transceiver transactions or after power cycle. After a radio transceiver transaction is completed the radio returns automatically into one of the <a class="el" href="grpIntroStates.html#subsecStaticStates">Static Radio Transceiver States</a>.<p>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<th><b>State</b>  </th><th><b>Comment</b>   </th></tr>
<tr>
<td><a class="anchor" name="stPOn"></a> <a class="el" href="group__apiHalPHY212Const.html#g58b9a6d64b28fa620d86aa2d87aba5d4">P_ON</a> </td><td>This state is only entered after powering up the radio transceiver. If this state is left once, it will be entered only with the next power up.   </td></tr>
<tr>
<td><a class="anchor" name="stTxBusy"></a> <a class="el" href="group__apiHalPHY212Const.html#g9cbdb413702bfd45c35773bee53c4cd3">BUSY_TX</a> </td><td>This state is entered during a <a class="el" href="grpPhyTx.html">frame transmission in Basic Operating Mode</a>.  </td></tr>
<tr>
<td><a class="anchor" name="stRxBusy"></a> <a class="el" href="group__apiHalPHY212Const.html#g9486d08d26658473840dd55ef9d59783">BUSY_RX</a> </td><td>This state is entered during a <a class="el" href="grpPhyRx.html">frame reception in Basic Operating Mode</a>.  </td></tr>
<tr>
<td><a class="anchor" name="stTxAretBusy"></a> <a class="el" href="group__apiHalPHY212Const.html#g4480cfa57a0f162471e351fce3ce72da">BUSY_TX_ARET</a> </td><td>This state is entered during a <a class="el" href="grpRf212AutoTx.html">frame transmission in TX_ARET mode</a>.  </td></tr>
<tr>
<td><a class="anchor" name="stRxAackBusy"></a> <a class="el" href="group__apiHalPHY212Const.html#gb128af01291fb016509cce7df4de6233">BUSY_RX_AACK</a> </td><td>This state is entered during a <a class="el" href="grpRf212AutoRx.html">frame reception in RX_AACK mode</a>.  </td></tr>
<tr>
<td><a class="anchor" name="stRxAackBusyNoClk"></a> <a class="el" href="group__apiHalPHY212Const.html#g7098eb6f17c3e17810b64e7e420da376">BUSY_RX_AACK_NOCLK</a> </td><td>This state is entered during <a class="el" href="grpRf212AutoRx.html">frame reception in RX_AACK mode</a>, while <a class="el" href="grpIntroMCU.html#wirePinSleepTr">TRX_PIN_SLP_TR</a> is HIGH.  </td></tr>
<tr>
<td><a class="el" href="group__apiHalPHY212Const.html#gf0c6d5f829c07fe27fac094daffbb2ab">STATE_TRANSITION_IN_PROGRESS</a> </td><td>This state indicates an internal state transition in progress. The status holds until a static radio transceiver state is entered.  </td></tr>
</table>
<h2><a class="anchor" name="secStateGroups">
State Groups</a></h2>
<h3><a class="anchor" name="subsecStateGroups">
State Groups</a></h3>
State Groups contain a combination of various states. They include <a class="el" href="grpIntroStates.html#subsecStaticStates">static states</a> as well as <a class="el" href="grpIntroStates.html#subsecTransientStates">transient states</a>.<p>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<th><b>State Group</b>  </th><th><b>States</b>   </th></tr>
<tr>
<td><a class="anchor" name="stTrxActive"></a> [ACTIVE]</td><td>any state <b>except</b> <a class="el" href="grpIntroStates.html#stPOn">P_ON</a> and <a class="el" href="grpIntroStates.html#stSleep">SLEEP</a>  </td></tr>
<tr>
<td><a class="anchor" name="stPllActive"></a> [PLL_ACTIVE]</td><td><a class="el" href="grpIntroStates.html#stRxOn">RX_ON</a>, <a class="el" href="grpIntroStates.html#stPllOn">PLL_ON</a>, <a class="el" href="grpIntroStates.html#stTxAretOn">TX_ARET_ON</a>, <a class="el" href="grpIntroStates.html#stRxAackOn">RX_AACK_ON</a>  </td></tr>
<tr>
<td><a class="anchor" name="stTrxRxBasic"></a> [RX_BASIC]</td><td><a class="el" href="group__apiHalPHY212Const.html#g359db88bcffa6b39bdb64ec00ec3a1ae">RX_ON</a>, <a class="el" href="grpIntroStates.html#stRxBusy">BUSY_RX</a>  </td></tr>
<tr>
<td><a class="anchor" name="stRxActive"></a> [RX_ACTIVE]</td><td><a class="el" href="group__apiHalPHY212Const.html#g359db88bcffa6b39bdb64ec00ec3a1ae">RX_ON</a>, <a class="el" href="group__apiHalPHY212Const.html#gfddeaef97c7252f303f60355d79bf04c">RX_AACK_ON</a>  </td></tr>
<tr>
<td><a class="anchor" name="stTrxConfig"></a> [CONFIG] </td><td><a class="el" href="grpIntroStates.html#stTrxOff">TRX_OFF</a>, <a class="el" href="grpIntroStates.html#stPllOn">PLL_ON</a>, <a class="el" href="grpIntroStates.html#stTxAretOn">TX_ARET_ON</a>   </td></tr>
<tr>
<td><a class="anchor" name="stTrxTXBusy"></a> [TX_BUSY]</td><td><a class="el" href="grpIntroStates.html#stTxBusy">BUSY_TX</a>, <a class="el" href="grpIntroStates.html#stTxAretBusy">BUSY_TX_ARET</a>  </td></tr>
<tr>
<td><a class="anchor" name="stTrxRXBusy"></a> [RX_BUSY]</td><td><a class="el" href="grpIntroStates.html#stRxBusy">BUSY_RX</a>, <a class="el" href="grpIntroStates.html#stRxAackBusy">BUSY_RX_AACK</a>  </td></tr>
<tr>
<td><a class="anchor" name="stTrxBusy"></a> [BUSY]</td><td><a class="el" href="grpIntroStates.html#stTrxTXBusy">[TX_BUSY]</a>, <a class="el" href="grpIntroStates.html#stTrxRXBusy">[RX_BUSY]</a>  </td></tr>
<tr>
<td><a class="anchor" name="stCmd"></a> [CMD]</td><td><a class="el" href="grpIntroStates.html#stTrxOff">TRX_OFF</a>, <a class="el" href="grpIntroStates.html#stRxOn">RX_ON</a>, <a class="el" href="grpIntroStates.html#stPllOn">PLL_ON</a>, <a class="el" href="grpIntroStates.html#stTxAretOn">TX_ARET_ON</a>, <a class="el" href="grpIntroStates.html#stRxAackOn">RX_AACK_ON</a> <br>
 (all states which can be entered by writing to the <a class="el" href="group__apiHalPHY212Sreg.html#g8d912618842812f37fc46356eff73c93">SR_TRX_CMD</a> sub register)   </td></tr>
</table>
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd><a class="el" href="grpIntroStates.html#stTrxConfig">[CONFIG]</a> can be extended to states <a class="el" href="grpIntroStates.html#stRxOn">RX_ON</a> and <a class="el" href="grpIntroStates.html#stRxAackOn">RX_AACK_ON</a> if it can be ensured, that the radio is not in <a class="el" href="grpIntroStates.html#stTrxRXBusy">[RX_BUSY]</a>, see also use case <a class="el" href="grpFProt.html#secprotect_static">PREAMBLE_DETECTOR_DISABLE</a>. </dd></dl>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Aug 17 13:34:58 2009 for SWPM AT86RF212 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
